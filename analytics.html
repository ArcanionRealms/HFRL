<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - HFRL Integration Hub</title>
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.0/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --magenta: #FF00FF;
            --cyan: #00FFFF;
            --deep-space: #0A0A0A;
            --cosmic-purple: #6A0DAD;
            --starlight: #FFFFFF;
            --neon-blue: #2196F3;
            --electric-pink: #E91E63;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--deep-space);
            color: var(--starlight);
            overflow-x: hidden;
        }
        
        .orbitron {
            font-family: 'Orbitron', monospace;
        }
        
        .cosmic-bg {
            background: linear-gradient(135deg, #0A0A0A 0%, #1A1A2E 50%, #16213E 100%);
            position: relative;
        }
        
        .holographic {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .glow-magenta {
            box-shadow: 0 0 20px var(--magenta), 0 0 40px var(--magenta);
        }
        
        .glow-cyan {
            box-shadow: 0 0 20px var(--cyan), 0 0 40px var(--cyan);
        }
        
        .metric-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255, 0, 255, 0.3);
        }
        
        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .metric-card:hover::before {
            left: 100%;
        }
        
        .chart-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        
        .trend-up {
            color: #4CAF50;
        }
        
        .trend-down {
            color: #f44336;
        }
        
        .trend-neutral {
            color: #FFC107;
        }
        
        .filter-button {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-button:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--cyan);
        }
        
        .filter-button.active {
            background: linear-gradient(45deg, var(--magenta), var(--cyan));
            border-color: var(--cyan);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }
        
        .session-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .session-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(5px);
        }
        
        .quality-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        
        .quality-excellent { background: #4CAF50; box-shadow: 0 0 10px #4CAF50; }
        .quality-good { background: #2196F3; box-shadow: 0 0 10px #2196F3; }
        .quality-average { background: #FFC107; box-shadow: 0 0 10px #FFC107; }
        .quality-poor { background: #f44336; box-shadow: 0 0 10px #f44336; }
    </style>
</head>
<body class="cosmic-bg">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 holographic">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="orbitron text-2xl font-bold text-cyan-400">HFRL Hub</div>
                    <div class="text-sm text-gray-300">Analytics</div>
                </div>
                <div class="flex space-x-6">
                    <a href="index.html" class="text-gray-300 hover:text-cyan-400 transition-colors">Workspace</a>
                    <a href="settings.html" class="text-gray-300 hover:text-cyan-400 transition-colors">Settings</a>
                    <a href="analytics.html" class="text-cyan-400 hover:text-magenta-400 transition-colors">Analytics</a>
                    <a href="documentation.html" class="text-gray-300 hover:text-cyan-400 transition-colors">Docs</a>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="pt-24 pb-16">
        <div class="container mx-auto px-6">
            <!-- Header -->
            <div class="text-center mb-12">
                <h1 class="orbitron text-4xl lg:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-magenta-400 to-cyan-400 mb-4">
                    Performance Analytics
                </h1>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Track your AI model's improvement through comprehensive metrics and visual insights.
                </p>
            </div>
            
            <!-- Time Filter -->
            <div class="flex justify-center mb-8">
                <div class="flex space-x-4">
                    <button class="filter-button active" data-period="7d">Last 7 Days</button>
                    <button class="filter-button" data-period="30d">Last 30 Days</button>
                    <button class="filter-button" data-period="90d">Last 90 Days</button>
                    <button class="filter-button" data-period="all">All Time</button>
                </div>
            </div>
            
            <!-- Key Metrics -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="metric-card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="text-3xl">ðŸŽ¯</div>
                        <div class="trend-up text-sm">â†— +12%</div>
                    </div>
                    <div class="text-2xl font-bold text-cyan-400 mb-1" id="avg-quality">4.2</div>
                    <div class="text-gray-400 text-sm">Average Quality Score</div>
                    <div class="mt-4">
                        <div class="w-full bg-gray-700 rounded-full h-2">
                            <div class="bg-gradient-to-r from-magenta-500 to-cyan-500 h-2 rounded-full" style="width: 84%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="metric-card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="text-3xl">ðŸ“ˆ</div>
                        <div class="trend-up text-sm">â†— +8%</div>
                    </div>
                    <div class="text-2xl font-bold text-magenta-400 mb-1" id="improvement-rate">+15%</div>
                    <div class="text-gray-400 text-sm">Improvement Rate</div>
                    <div class="mt-4">
                        <svg class="w-16 h-16 mx-auto">
                            <circle cx="32" cy="32" r="28" stroke="#374151" stroke-width="4" fill="none"/>
                            <circle cx="32" cy="32" r="28" stroke="url(#gradient)" stroke-width="4" fill="none" 
                                    stroke-dasharray="176" stroke-dashoffset="35" class="progress-ring-circle"/>
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#FF00FF"/>
                                    <stop offset="100%" style="stop-color:#00FFFF"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
                
                <div class="metric-card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="text-3xl">âš¡</div>
                        <div class="trend-neutral text-sm">â†’ 0%</div>
                    </div>
                    <div class="text-2xl font-bold text-cyan-400 mb-1" id="avg-response-time">2.3s</div>
                    <div class="text-gray-400 text-sm">Avg Response Time</div>
                    <div class="mt-4 text-xs text-gray-500">
                        <div>Target: &lt; 3.0s</div>
                        <div>Current: 2.3s âœ“</div>
                    </div>
                </div>
                
                <div class="metric-card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="text-3xl">ðŸ”„</div>
                        <div class="trend-up text-sm">â†— +23%</div>
                    </div>
                    <div class="text-2xl font-bold text-magenta-400 mb-1" id="feedback-count">127</div>
                    <div class="text-gray-400 text-sm">Total Feedback Items</div>
                    <div class="mt-4 text-xs text-gray-500">
                        <div>This week: 23</div>
                        <div>Last week: 18</div>
                    </div>
                </div>
            </div>
            
            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <!-- Performance Over Time -->
                <div class="chart-container">
                    <h3 class="orbitron text-xl font-semibold text-magenta-400 mb-6">Quality Progression</h3>
                    <div id="quality-chart" style="height: 350px;"></div>
                </div>
                
                <!-- Feedback Distribution -->
                <div class="chart-container">
                    <h3 class="orbitron text-xl font-semibold text-magenta-400 mb-6">Feedback Quality Distribution</h3>
                    <div id="feedback-distribution-chart" style="height: 350px;"></div>
                </div>
                
                <!-- Model Comparison -->
                <div class="chart-container">
                    <h3 class="orbitron text-xl font-semibold text-magenta-400 mb-6">Model Performance Comparison</h3>
                    <div id="model-comparison-chart" style="height: 350px;"></div>
                </div>
                
                <!-- Training Efficiency -->
                <div class="chart-container">
                    <h3 class="orbitron text-xl font-semibold text-magenta-400 mb-6">Training Efficiency Metrics</h3>
                    <div id="efficiency-chart" style="height: 350px;"></div>
                </div>
            </div>
            
            <!-- Detailed Analytics -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Recent Sessions -->
                <div class="lg:col-span-2">
                    <div class="holographic rounded-lg p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="orbitron text-xl font-semibold text-magenta-400">Recent Training Sessions</h3>
                            <button onclick="exportSessionData()" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition-colors">
                                Export Data
                            </button>
                        </div>
                        
                        <div id="session-list" class="space-y-3 max-h-96 overflow-y-auto">
                            <!-- Sessions will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Insights Panel -->
                <div class="space-y-6">
                    <!-- AI Insights -->
                    <div class="holographic rounded-lg p-6">
                        <h3 class="orbitron text-xl font-semibold text-magenta-400 mb-4">AI Insights</h3>
                        <div class="space-y-4" id="ai-insights">
                            <div class="p-4 bg-blue-900 bg-opacity-30 rounded-lg border-l-4 border-blue-500">
                                <div class="text-sm font-semibold text-blue-400 mb-1">Performance Peak</div>
                                <div class="text-xs text-gray-300">Your model achieved highest quality scores during evening sessions (6-9 PM).</div>
                            </div>
                            
                            <div class="p-4 bg-green-900 bg-opacity-30 rounded-lg border-l-4 border-green-500">
                                <div class="text-sm font-semibold text-green-400 mb-1">Consistency Improvement</div>
                                <div class="text-xs text-gray-300">Feedback consistency has improved by 23% over the last week.</div>
                            </div>
                            
                            <div class="p-4 bg-yellow-900 bg-opacity-30 rounded-lg border-l-4 border-yellow-500">
                                <div class="text-sm font-semibold text-yellow-400 mb-1">Optimization Opportunity</div>
                                <div class="text-xs text-gray-300">Consider reducing temperature for more consistent outputs.</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="holographic rounded-lg p-6">
                        <h3 class="orbitron text-xl font-semibold text-magenta-400 mb-4">Quick Actions</h3>
                        <div class="space-y-3">
                            <button onclick="generateReport()" class="w-full py-3 bg-gradient-to-r from-magenta-500 to-cyan-500 rounded-lg font-semibold hover:from-magenta-600 hover:to-cyan-600 transition-all">
                                Generate Report
                            </button>
                            <button onclick="scheduleTraining()" class="w-full py-3 holographic rounded-lg font-semibold hover:bg-white hover:bg-opacity-10 transition-all">
                                Schedule Training
                            </button>
                            <button onclick="compareModels()" class="w-full py-3 holographic rounded-lg font-semibold hover:bg-white hover:bg-opacity-10 transition-all">
                                Compare Models
                            </button>
                        </div>
                    </div>
                    
                    <!-- Performance Summary -->
                    <div class="holographic rounded-lg p-6">
                        <h3 class="orbitron text-xl font-semibold text-magenta-400 mb-4">This Week</h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Sessions:</span>
                                <span class="text-cyan-400 font-semibold">12</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Avg Quality:</span>
                                <span class="text-magenta-400 font-semibold">4.3/5</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Best Model:</span>
                                <span class="text-cyan-400 font-semibold">Deepseek</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Improvement:</span>
                                <span class="text-green-400 font-semibold">+18%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="py-12 border-t border-gray-800">
        <div class="container mx-auto px-6 text-center">
            <div class="orbitron text-2xl font-bold text-cyan-400 mb-4">HFRL Integration Hub</div>
            <div class="text-gray-400 mb-4">Advanced AI Development Through Human Feedback</div>
            <div class="text-sm text-gray-500">Â© 2025 HFRL Integration Platform. All rights reserved.</div>
        </div>
    </footer>
    
    <script>
        // Analytics Manager
        class AnalyticsManager {
            constructor() {
                this.currentPeriod = '7d';
                this.charts = {};
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.initializeCharts();
                this.loadSessionData();
                this.animateMetrics();
            }
            
            setupEventListeners() {
                // Time period filters
                document.querySelectorAll('.filter-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                        this.currentPeriod = e.target.dataset.period;
                        this.updateAllCharts();
                    });
                });
            }
            
            initializeCharts() {
                this.createQualityChart();
                this.createFeedbackDistributionChart();
                this.createModelComparisonChart();
                this.createEfficiencyChart();
            }
            
            createQualityChart() {
                const chart = echarts.init(document.getElementById('quality-chart'));
                
                const option = {
                    backgroundColor: 'transparent',
                    textStyle: { color: '#ffffff' },
                    tooltip: {
                        trigger: 'axis',
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        borderColor: '#00FFFF',
                        textStyle: { color: '#ffffff' }
                    },
                    legend: {
                        data: ['Quality Score', 'Feedback Count'],
                        textStyle: { color: '#ffffff' },
                        top: 10
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'category',
                        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        axisLine: { lineStyle: { color: '#6A0DAD' } },
                        axisLabel: { color: '#ffffff' }
                    },
                    yAxis: [
                        {
                            type: 'value',
                            name: 'Quality Score',
                            min: 0,
                            max: 5,
                            axisLine: { lineStyle: { color: '#6A0DAD' } },
                            axisLabel: { color: '#ffffff' },
                            splitLine: { lineStyle: { color: '#333' } }
                        },
                        {
                            type: 'value',
                            name: 'Feedback Count',
                            axisLine: { lineStyle: { color: '#6A0DAD' } },
                            axisLabel: { color: '#ffffff' }
                        }
                    ],
                    series: [
                        {
                            name: 'Quality Score',
                            type: 'line',
                            smooth: true,
                            data: [3.8, 4.1, 4.3, 4.2, 4.5, 4.7, 4.6],
                            lineStyle: { color: '#00FFFF', width: 3 },
                            itemStyle: { color: '#FF00FF' },
                            areaStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: 'rgba(0,255,255,0.3)' },
                                    { offset: 1, color: 'rgba(255,0,255,0.1)' }
                                ])
                            }
                        },
                        {
                            name: 'Feedback Count',
                            type: 'bar',
                            yAxisIndex: 1,
                            data: [12, 15, 18, 22, 25, 28, 24],
                            itemStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: 'rgba(255,0,255,0.8)' },
                                    { offset: 1, color: 'rgba(0,255,255,0.8)' }
                                ])
                            }
                        }
                    ]
                };
                
                chart.setOption(option);
                this.charts.quality = chart;
            }
            
            createFeedbackDistributionChart() {
                const chart = echarts.init(document.getElementById('feedback-distribution-chart'));
                
                const option = {
                    backgroundColor: 'transparent',
                    textStyle: { color: '#ffffff' },
                    tooltip: {
                        trigger: 'item',
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        borderColor: '#00FFFF',
                        textStyle: { color: '#ffffff' }
                    },
                    legend: {
                        orient: 'vertical',
                        left: 'left',
                        textStyle: { color: '#ffffff' }
                    },
                    series: [
                        {
                            name: 'Feedback Quality',
                            type: 'pie',
                            radius: ['40%', '70%'],
                            center: ['60%', '50%'],
                            data: [
                                { value: 45, name: 'Excellent (5â˜…)', itemStyle: { color: '#4CAF50' } },
                                { value: 35, name: 'Good (4â˜…)', itemStyle: { color: '#2196F3' } },
                                { value: 15, name: 'Average (3â˜…)', itemStyle: { color: '#FFC107' } },
                                { value: 4, name: 'Poor (2â˜…)', itemStyle: { color: '#FF9800' } },
                                { value: 1, name: 'Very Poor (1â˜…)', itemStyle: { color: '#f44336' } }
                            ],
                            label: { color: '#ffffff' },
                            labelLine: { lineStyle: { color: '#ffffff' } },
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 255, 255, 0.5)'
                                }
                            }
                        }
                    ]
                };
                
                chart.setOption(option);
                this.charts.feedbackDistribution = chart;
            }
            
            createModelComparisonChart() {
                const chart = echarts.init(document.getElementById('model-comparison-chart'));
                
                const option = {
                    backgroundColor: 'transparent',
                    textStyle: { color: '#ffffff' },
                    tooltip: {
                        trigger: 'axis',
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        borderColor: '#00FFFF',
                        textStyle: { color: '#ffffff' }
                    },
                    legend: {
                        data: ['Deepseek', 'Kimi K2', 'GPT-4', 'Claude 3'],
                        textStyle: { color: '#ffffff' },
                        top: 10
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'category',
                        data: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                        axisLine: { lineStyle: { color: '#6A0DAD' } },
                        axisLabel: { color: '#ffffff' }
                    },
                    yAxis: {
                        type: 'value',
                        min: 0,
                        max: 5,
                        axisLine: { lineStyle: { color: '#6A0DAD' } },
                        axisLabel: { color: '#ffffff' },
                        splitLine: { lineStyle: { color: '#333' } }
                    },
                    series: [
                        {
                            name: 'Deepseek',
                            type: 'line',
                            smooth: true,
                            data: [3.5, 3.8, 4.2, 4.5],
                            lineStyle: { color: '#FF00FF', width: 3 },
                            itemStyle: { color: '#FF00FF' }
                        },
                        {
                            name: 'Kimi K2',
                            type: 'line',
                            smooth: true,
                            data: [3.2, 3.6, 3.9, 4.1],
                            lineStyle: { color: '#00FFFF', width: 3 },
                            itemStyle: { color: '#00FFFF' }
                        },
                        {
                            name: 'GPT-4',
                            type: 'line',
                            smooth: true,
                            data: [3.8, 4.0, 4.1, 4.3],
                            lineStyle: { color: '#4CAF50', width: 3 },
                            itemStyle: { color: '#4CAF50' }
                        },
                        {
                            name: 'Claude 3',
                            type: 'line',
                            smooth: true,
                            data: [3.6, 3.9, 4.0, 4.2],
                            lineStyle: { color: '#FFC107', width: 3 },
                            itemStyle: { color: '#FFC107' }
                        }
                    ]
                };
                
                chart.setOption(option);
                this.charts.modelComparison = chart;
            }
            
            createEfficiencyChart() {
                const chart = echarts.init(document.getElementById('efficiency-chart'));
                
                const option = {
                    backgroundColor: 'transparent',
                    textStyle: { color: '#ffffff' },
                    tooltip: {
                        trigger: 'axis',
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        borderColor: '#00FFFF',
                        textStyle: { color: '#ffffff' }
                    },
                    legend: {
                        data: ['Training Time', 'Response Quality'],
                        textStyle: { color: '#ffffff' },
                        top: 10
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'category',
                        data: ['Session 1', 'Session 2', 'Session 3', 'Session 4', 'Session 5'],
                        axisLine: { lineStyle: { color: '#6A0DAD' } },
                        axisLabel: { color: '#ffffff' }
                    },
                    yAxis: [
                        {
                            type: 'value',
                            name: 'Time (minutes)',
                            axisLine: { lineStyle: { color: '#6A0DAD' } },
                            axisLabel: { color: '#ffffff' },
                            splitLine: { lineStyle: { color: '#333' } }
                        },
                        {
                            type: 'value',
                            name: 'Quality Score',
                            min: 0,
                            max: 5,
                            axisLine: { lineStyle: { color: '#6A0DAD' } },
                            axisLabel: { color: '#ffffff' }
                        }
                    ],
                    series: [
                        {
                            name: 'Training Time',
                            type: 'bar',
                            data: [45, 38, 42, 35, 28],
                            itemStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: 'rgba(255,0,255,0.8)' },
                                    { offset: 1, color: 'rgba(255,0,255,0.3)' }
                                ])
                            }
                        },
                        {
                            name: 'Response Quality',
                            type: 'line',
                            yAxisIndex: 1,
                            data: [3.2, 3.8, 4.1, 4.3, 4.5],
                            lineStyle: { color: '#00FFFF', width: 3 },
                            itemStyle: { color: '#00FFFF' }
                        }
                    ]
                };
                
                chart.setOption(option);
                this.charts.efficiency = chart;
            }
            
            loadSessionData() {
                const sessions = [
                    {
                        id: 1,
                        date: '2025-11-12',
                        time: '14:30',
                        model: 'Deepseek',
                        quality: 4.5,
                        feedback: 8,
                        duration: '12 min',
                        type: 'Character Dialogue'
                    },
                    {
                        id: 2,
                        date: '2025-11-12',
                        time: '11:15',
                        model: 'Kimi K2',
                        quality: 4.2,
                        feedback: 12,
                        duration: '18 min',
                        type: 'Code Generation'
                    },
                    {
                        id: 3,
                        date: '2025-11-11',
                        time: '16:45',
                        model: 'GPT-4',
                        quality: 4.7,
                        feedback: 6,
                        duration: '15 min',
                        type: 'Story Writing'
                    },
                    {
                        id: 4,
                        date: '2025-11-11',
                        time: '13:20',
                        model: 'Claude 3',
                        quality: 4.1,
                        feedback: 9,
                        duration: '22 min',
                        type: 'Data Analysis'
                    },
                    {
                        id: 5,
                        date: '2025-11-10',
                        time: '15:30',
                        model: 'Deepseek',
                        quality: 4.3,
                        feedback: 11,
                        duration: '16 min',
                        type: 'Creative Writing'
                    }
                ];
                
                const sessionList = document.getElementById('session-list');
                sessionList.innerHTML = '';
                
                sessions.forEach(session => {
                    const sessionElement = document.createElement('div');
                    sessionElement.className = 'session-item';
                    sessionElement.onclick = () => this.showSessionDetails(session);
                    
                    const qualityClass = session.quality >= 4.5 ? 'quality-excellent' : 
                                        session.quality >= 4.0 ? 'quality-good' :
                                        session.quality >= 3.0 ? 'quality-average' : 'quality-poor';
                    
                    sessionElement.innerHTML = `
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="quality-indicator ${qualityClass}"></span>
                                <div>
                                    <div class="font-semibold text-white">${session.type}</div>
                                    <div class="text-sm text-gray-400">${session.model} â€¢ ${session.date} ${session.time}</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-cyan-400">${session.quality}/5</div>
                                <div class="text-xs text-gray-400">${session.feedback} feedback â€¢ ${session.duration}</div>
                            </div>
                        </div>
                    `;
                    
                    sessionList.appendChild(sessionElement);
                });
            }
            
            showSessionDetails(session) {
                alert(`Session Details:\n\nType: ${session.type}\nModel: ${session.model}\nQuality: ${session.quality}/5\nFeedback Items: ${session.feedback}\nDuration: ${session.duration}\nDate: ${session.date} ${session.time}`);
            }
            
            animateMetrics() {
                // Animate metric cards on load
                anime({
                    targets: '.metric-card',
                    translateY: [50, 0],
                    opacity: [0, 1],
                    easing: 'easeOutQuad',
                    duration: 800,
                    delay: anime.stagger(200)
                });
                
                // Animate progress bars
                anime({
                    targets: '.metric-card .bg-gradient-to-r',
                    width: ['0%', function(el) { return el.style.width; }],
                    easing: 'easeOutQuad',
                    duration: 1500,
                    delay: 1000
                });
            }
            
            updateAllCharts() {
                // Update all charts based on selected time period
                Object.values(this.charts).forEach(chart => {
                    chart.resize();
                });
                
                this.showNotification(`Updated analytics for ${this.currentPeriod} period`, 'info');
            }
            
            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `fixed top-20 right-6 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 transform translate-x-full`;
                
                switch (type) {
                    case 'success':
                        notification.classList.add('bg-green-600', 'text-white');
                        break;
                    case 'error':
                        notification.classList.add('bg-red-600', 'text-white');
                        break;
                    case 'warning':
                        notification.classList.add('bg-yellow-600', 'text-white');
                        break;
                    default:
                        notification.classList.add('bg-cyan-600', 'text-white');
                }
                
                notification.textContent = message;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.remove('translate-x-full');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.add('translate-x-full');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
        }
        
        // Global functions
        function exportSessionData() {
            const sessionData = [
                { id: 1, date: '2025-11-12', time: '14:30', model: 'Deepseek', quality: 4.5, feedback: 8, duration: '12 min', type: 'Character Dialogue' },
                { id: 2, date: '2025-11-12', time: '11:15', model: 'Kimi K2', quality: 4.2, feedback: 12, duration: '18 min', type: 'Code Generation' },
                { id: 3, date: '2025-11-11', time: '16:45', model: 'GPT-4', quality: 4.7, feedback: 6, duration: '15 min', type: 'Story Writing' },
                { id: 4, date: '2025-11-11', time: '13:20', model: 'Claude 3', quality: 4.1, feedback: 9, duration: '22 min', type: 'Data Analysis' },
                { id: 5, date: '2025-11-10', time: '15:30', model: 'Deepseek', quality: 4.3, feedback: 11, duration: '16 min', type: 'Creative Writing' }
            ];
            
            const dataStr = JSON.stringify(sessionData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'hfrl-session-data.json';
            link.click();
            
            URL.revokeObjectURL(url);
            analyticsManager.showNotification('Session data exported successfully!', 'success');
        }
        
        function generateReport() {
            analyticsManager.showNotification('Generating comprehensive performance report...', 'info');
            
            setTimeout(() => {
                analyticsManager.showNotification('Report generated successfully! Check your downloads.', 'success');
            }, 2000);
        }
        
        function scheduleTraining() {
            alert('Training scheduler coming soon! This feature will allow you to automate training sessions based on optimal performance windows.');
        }
        
        function compareModels() {
            alert('Model comparison tool coming soon! This feature will provide detailed side-by-side analysis of different AI models.');
        }
        
        // Initialize analytics manager
        let analyticsManager;
        document.addEventListener('DOMContentLoaded', () => {
            analyticsManager = new AnalyticsManager();
        });
        
        // Handle window resize for charts
        window.addEventListener('resize', () => {
            if (analyticsManager && analyticsManager.charts) {
                Object.values(analyticsManager.charts).forEach(chart => {
                    chart.resize();
                });
            }
        });
    </script>
</body>
</html>